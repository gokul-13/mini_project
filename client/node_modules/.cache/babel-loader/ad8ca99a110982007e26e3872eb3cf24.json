{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      name_show: false,\n      cname_show: false,\n      name: '',\n      cname: '',\n      reg_no: '',\n      c_no: '',\n      mark: '',\n      success: false,\n      failue: false,\n      error_message: \"\",\n      show_submit: true,\n      show_update: false\n    };\n  },\n\n  methods: {\n    updateMarks() {\n      axios.put(`http://localhost:8068/mark/update/${this.reg_no}/${this.c_no}/${this.mark}`).then(res => {\n        if (res.data.status === 'success') {\n          alert(\"Marks Updated Successfully\");\n          setTimeout(() => {\n            this.$router.go();\n          }, 2000);\n        } else {\n          alert(\"Some error occured\");\n        }\n      });\n    },\n\n    async getName() {\n      axios.get(`http://localhost:8068/student/detail/${this.reg_no}`).then(res => {\n        console.log(res.data);\n\n        if (res.data.length == 0) {\n          alert(\"Invalid Register Number\");\n          this.reg_no = '';\n          this.name = '';\n          return;\n        }\n\n        this.name = res.data[0].name;\n        this.name_show = true;\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n\n    async getCourse() {\n      axios.get(`http://localhost:8068/course/detail/${this.c_no}`).then(res => {\n        console.log(res.data);\n\n        if (res.data.length == 0) {\n          alert(\"Invalid Course Number\");\n          this.c_no = '';\n          this.cname = '';\n          return;\n        }\n\n        this.cname = res.data[0].name;\n        this.cname_show = true;\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n\n    async submitMarks() {\n      if (this.mark < 0 || this.mark > 100) {\n        alert(\"Marks Out of Range\");\n        return;\n      }\n\n      axios.post('http://localhost:8068/mark/add', {\n        sid: this.reg_no,\n        mark: this.mark,\n        cid: this.c_no\n      }).then(res => {\n        console.log('Resda:' + res);\n\n        if (res.data.status === 'success') {\n          console.log(res);\n          this.success = true;\n          setTimeout(() => {\n            this.success = false;\n            this.$router.go();\n          }, 2000);\n        } else {\n          this.error_message = res.data.message;\n          this.failue = true;\n          setTimeout(() => {\n            this.failue = false;\n            this.show_submit = false;\n            this.show_update = true;\n          }, 2000);\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","data","name_show","cname_show","name","cname","reg_no","c_no","mark","success","failue","error_message","show_submit","show_update","methods","updateMarks","put","then","res","status","alert","setTimeout","$router","go","getName","get","console","log","length","catch","err","getCourse","submitMarks","post","sid","cid","message"],"sourceRoot":"","sources":["/Users/ecom-gokula.vp/Documents/Samsung_docs/mini_project/client/src/views/AddMarks.vue"],"sourcesContent":["<template>\n   <h2 v-show='success' style=\"color:green\"> Marks Inserted Sucessfully</h2>\n   <h2 v-show='failue' style=\"color:red\"> {{error_message}}</h2>\n    <label class='form__label'>Registration No</label><br>\n   <input type='number' placeholder=\"Enter the student Registration Number\" v-model='reg_no' @blur='getName' required><br>\n    <label class='form__label' v-show=\"name_show\">Student Name</label><br>\n   <input type='name' placeholder=\"course_name\" v-show='name_show' :value='name' disabled><br>\n    <label class='form__label'>Course id</label><br>\n   <input type='number' placeholder=\"Enter the Course No\" v-model='c_no' @blur='getCourse' required><br>\n    <label class='form__label' v-show=\"cname_show\">Course Name</label><br>\n   <input type='text'  v-show=\"cname_show\" :value='cname' disabled><br>\n    <label class='form__label'>Mark Scored</label><br>\n   <input type='text' placeholder=\"Enter the Marks\" v-model=\"mark\"><br>\n   <button @click='submitMarks' v-show=\"show_submit\"> Submit</button>\n   <button @click='updateMarks' v-show=\"show_update\"> Update</button>\n   \n</template>\n\n<script>\n  import axios from 'axios';\n\nexport default {\n  \n    data() {\n        return {\n            name_show:false,\n            cname_show:false,\n            name:'',\n            cname:'',\n            reg_no:'',\n            c_no:'',\n            mark:'',\n            success:false,\n            failue:false,\n            error_message:\"\",\n            show_submit:true,\n            show_update:false\n        }\n    },\n    methods: {\n\n        updateMarks() {\n            axios.put(`http://localhost:8068/mark/update/${this.reg_no}/${this.c_no}/${this.mark}`).then((res)=>{\n                if(res.data.status==='success') {\n                    alert(\"Marks Updated Successfully\");\n                    setTimeout(()=>{this.$router.go()},2000);\n                }\n                else {\n                    alert(\"Some error occured\");\n                }\n        })\n        },\n\n        async getName() {\n            axios.get(`http://localhost:8068/student/detail/${this.reg_no}`).then((res)=>{\n                console.log(res.data);\n                if(res.data.length==0) {alert(\"Invalid Register Number\");this.reg_no='';this.name='';return;}\n                this.name=res.data[0].name;\n                this.name_show=true;\n            }).catch((err)=>{\n                console.log(err);\n            })\n        },\n        async getCourse() {\n\n            axios.get(`http://localhost:8068/course/detail/${this.c_no}`).then((res)=>{\n                console.log(res.data);\n                if(res.data.length==0) {alert(\"Invalid Course Number\");this.c_no='';this.cname='';return;}\n                this.cname=res.data[0].name;\n                this.cname_show=true;\n            }).catch((err)=>{\n                console.log(err);\n            })\n        },\n        async submitMarks() {\n            if(this.mark<0 || this.mark>100) {alert(\"Marks Out of Range\");return;}\n            axios.post('http://localhost:8068/mark/add',{sid:this.reg_no,mark:this.mark,cid:this.c_no}).then((res)=>{\n                console.log('Resda:'+res);\n                if(res.data.status==='success') {\n                    console.log(res);\n                    this.success=true;\n                    setTimeout(()=>{this.success=false;this.$router.go()},2000);\n                }\n                else {\n                    this.error_message=res.data.message;\n                    this.failue=true;\n                    setTimeout(()=>{\n                        this.failue=false;\n                        this.show_submit=false;\n                        this.show_update=true;\n                    },2000)\n                }\n            })\n        },\n    }\n\n}\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module"}