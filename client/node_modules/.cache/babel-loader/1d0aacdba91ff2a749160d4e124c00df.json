{"ast":null,"code":"import Navigation from '../components/Navigation.vue';\nimport TextBox from '../components/TextBox';\nimport axios from 'axios';\naxios.defaults.withCredentials = true;\n\nconst validate = require('../validation');\n\nexport default {\n  components: {\n    Navigation\n  },\n\n  data() {\n    return {\n      action: 'old',\n      error_message: '',\n      success: false,\n      course: {\n        cid: '',\n        cname: ''\n      }\n    };\n  },\n\n  components: {\n    TextBox\n  },\n  methods: {\n    changeState() {\n      this.action = 'new';\n    },\n\n    async sendData() {\n      console.log('In send data');\n\n      if (!validate.validateRegNo(this.course.cid, 3)) {\n        this.error_message = 'Invalid Course Id';\n        alert(this.error_message);\n        return;\n      }\n\n      if (!validate.validateName(this.course.cname)) {\n        this.error_message = 'Invalid Course Name';\n        alert(this.error_message);\n        return;\n      }\n\n      const res = await axios.post('http://localhost:8068/course/add', this.course);\n      console.log(res.data);\n\n      if (res.data.status === 'success') {\n        this.success = true;\n        setTimeout(() => {\n          this.$router.go();\n        }, 2000);\n      } else {\n        alert(\"Add Failed\");\n      }\n    }\n\n  },\n\n  async created() {\n    const res = await axios.get('http://localhost:8068/check');\n    console.log(res.data);\n\n    if (res.data.status === 'redirect') {\n      this.$router.replace('/login');\n    }\n  }\n\n};","map":{"version":3,"mappings":"AAaA,OAAOA,UAAP,MAAuB,8BAAvB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACAA,KAAK,CAACC,QAAN,CAAeC,eAAf,GAAiC,IAAjC;;AACA,MAAMC,QAAQ,GAACC,OAAO,CAAC,eAAD,CAAtB;;AACA,eAAe;AACXC,YAAU,EAAC;AAACP;AAAD,GADA;;AAEXQ,MAAI,GAAG;AAEH,WAAO;AACHC,YAAM,EAAC,KADJ;AAEHC,mBAAa,EAAC,EAFX;AAGHC,aAAO,EAAC,KAHL;AAIHC,YAAM,EAAC;AACHC,WAAG,EAAC,EADD;AAEHC,aAAK,EAAC;AAFH;AAJJ,KAAP;AASH,GAbU;;AAcXP,YAAU,EAAC;AACPN;AADO,GAdA;AAiBXc,SAAO,EAAE;AACLC,eAAW,GAAG;AACN,WAAKP,MAAL,GAAY,KAAZ;AACP,KAHI;;AAIL,UAAMQ,QAAN,GAAiB;AACbC,aAAO,CAACC,GAAR,CAAY,cAAZ;;AAEA,UAAG,CAACd,QAAQ,CAACe,aAAT,CAAuB,KAAKR,MAAL,CAAYC,GAAnC,EAAuC,CAAvC,CAAJ,EAA+C;AAAC,aAAKH,aAAL,GAAmB,mBAAnB;AAAuCW,aAAK,CAAC,KAAKX,aAAN,CAAL;AAA0B;AAAO;;AACxH,UAAG,CAACL,QAAQ,CAACiB,YAAT,CAAsB,KAAKV,MAAL,CAAYE,KAAlC,CAAJ,EAA8C;AAAC,aAAKJ,aAAL,GAAmB,qBAAnB;AAAyCW,aAAK,CAAC,KAAKX,aAAN,CAAL;AAA0B;AAAO;;AACzH,YAAMa,GAAG,GAAC,MAAMrB,KAAK,CAACsB,IAAN,CAAW,kCAAX,EAA8C,KAAKZ,MAAnD,CAAhB;AACAM,aAAO,CAACC,GAAR,CAAYI,GAAG,CAACf,IAAhB;;AACA,UAAGe,GAAG,CAACf,IAAJ,CAASiB,MAAT,KAAkB,SAArB,EAAgC;AAAC,aAAKd,OAAL,GAAa,IAAb;AAAkBe,kBAAU,CAAC,MAAI;AAAC,eAAKC,OAAL,CAAaC,EAAb;AAAkB,SAAxB,EAAyB,IAAzB,CAAV;AAAwC,OAA3F,MACK;AACDP,aAAK,CAAC,YAAD,CAAL;AACJ;AACJ;;AAfK,GAjBE;;AAkCX,QAAMQ,OAAN,GAAgB;AACT,UAAMN,GAAG,GAAE,MAAMrB,KAAK,CAAC4B,GAAN,CAAU,6BAAV,CAAjB;AACCZ,WAAO,CAACC,GAAR,CAAYI,GAAG,CAACf,IAAhB;;AACD,QAAGe,GAAG,CAACf,IAAJ,CAASiB,MAAT,KAAkB,UAArB,EAAiC;AAC5B,WAAKE,OAAL,CAAaI,OAAb,CAAqB,QAArB;AACL;AACJ;;AAxCQ,CAAf","names":["Navigation","TextBox","axios","defaults","withCredentials","validate","require","components","data","action","error_message","success","course","cid","cname","methods","changeState","sendData","console","log","validateRegNo","alert","validateName","res","post","status","setTimeout","$router","go","created","get","replace"],"sourceRoot":"","sources":["/Users/ecom-gokula.vp/Documents/Samsung_docs/mini_project/client/src/views/AddCourse.vue"],"sourcesContent":["<template>\n  <div>    \n           <Navigation></Navigation>\n            <h2 v-show=\"success\" style=\"color:green\">Course Successfully Added</h2>\n             <TextBox llabel='Course id' :action='action' v-on:printDetails='course.cid=$event;this.action=\"old\"'></TextBox>\n            <TextBox llabel='Course name' :action='action' v-on:printDetails='course.cname=$event;this.action=\"old\";sendData()'></TextBox>\n            \n            <button @click='changeState'>Click to enter</button>\n            \n    </div>\n</template>\n\n<script>\nimport Navigation from '../components/Navigation.vue'\nimport TextBox from '../components/TextBox';\nimport axios from 'axios';\naxios.defaults.withCredentials = true;\nconst validate=require('../validation');\nexport default {\n    components:{Navigation},\n    data() {\n        \n        return {\n            action:'old',\n            error_message:'',\n            success:false,\n            course:{\n                cid:'',\n                cname:''\n            }\n        }\n    },\n    components:{\n        TextBox\n    },\n    methods: {\n        changeState() {\n                this.action='new';\n        },\n        async sendData() {\n            console.log('In send data');\n\n            if(!validate.validateRegNo(this.course.cid,3)) {this.error_message='Invalid Course Id';alert(this.error_message);return;}\n            if(!validate.validateName(this.course.cname)) {this.error_message='Invalid Course Name';alert(this.error_message);return;}\n            const res=await axios.post('http://localhost:8068/course/add',this.course);\n            console.log(res.data);\n            if(res.data.status==='success') {this.success=true;setTimeout(()=>{this.$router.go()},2000)}\n            else {\n                alert(\"Add Failed\");\n            }\n        }\n    },\n    async created() {\n           const res= await axios.get('http://localhost:8068/check')\n            console.log(res.data);\n           if(res.data.status==='redirect') {\n                this.$router.replace('/login');\n           }\n      },\n}\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module"}